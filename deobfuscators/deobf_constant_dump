def deobf_constant_dump(code: str) -> str:
    """
    Extracts and lists potential constants and function definitions from the Lua code.
    This is not full deobfuscation, but a way to inspect hidden values.
    """
    output = ["--- Constant and Function Dump ---"]

    string_constants = re.findall(r'local \w+\s*=\s*(".*?"|\'.*?\')', code)
    if string_constants:
        output.append("\n**String Constants Found:**")
        for const in sorted(list(set(string_constants))):
            output.append(f"- {const}")

    numeric_constants = re.findall(r'local \w+\s*=\s*(\d+(\.\d*)?)', code)
    if numeric_constants:
        output.append("\n**Numeric Constants Found:**")
        for const, _ in sorted(list(set(numeric_constants))):
            output.append(f"- {const}")

    function_defs = re.findall(r'(local\s+)?function\s+([a-zA-Z_][a-zA-Z0-9_]*)\s*\(.*?\)', code)
    if function_defs:
        output.append("\n**Function Definitions Found:**")
        for local_keyword, func_name in sorted(list(set(function_defs))):
            output.append(f"- {local_keyword or ''}function {func_name}")

    if len(output) == 1:
        output.append("\nNo obvious constants or functions found with basic parsing.")

    output.append("\n--- Original Code (formatted) ---")
    output.append(beautify_lua(code))

    return "\n".join(output)
